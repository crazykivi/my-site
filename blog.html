<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Управление записями</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Quill.js CSS -->
    <link href="https://cdn.jsdelivr.net/npm/quill/dist/quill.snow.css" rel="stylesheet">
    <style>
        .ql-editor {
            min-height: 200px;
        }

        .page-button {
            cursor: pointer;
        }
    </style>
</head>

<body>
    <header class="bg-dark text-white py-3">
        <div class="container d-flex justify-content-between">
            <h1 class="h4">Управление записями</h1>
            <nav>
                <a href="index.html" class="text-white text-decoration-none mx-2">Главная</a>
            </nav>
        </div>
    </header>

    <main class="container my-5">
        <div id="records-container">
            <h2>Записи</h2>
            <div id="records-list" class="mb-3">
            </div>
            <nav aria-label="Pagination">
                <ul id="pagination" class="pagination">
                </ul>
            </nav>
        </div>

        <div id="add-record-panel" class="d-none mt-5">
            <h2>Добавить новую запись</h2>
            <div id="editor" class="mb-3"></div>
            <button id="save-button" class="btn btn-success">Сохранить запись</button>
        </div>
    </main>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Quill.js -->
    <script src="https://cdn.jsdelivr.net/npm/quill/dist/quill.min.js"></script>
    <script>
        const { ClickHouse } = require('@clickhouse/client');

        const clickhouse = new ClickHouse({
            url: 'http://193.3.23.245:8123',
            debug: false,
            basicAuth: { username: 'default', password: '' },
            format: 'json',
        });

        clickhouse.query('SELECT * FROM records').toPromise()
            .then(rows => {
                console.log(rows);
            })
            .catch(err => {
                console.error('Ошибка:', err);
            });

        async function insertRecord(content) {
            try {
                await clickhouse.insert('INSERT INTO records (content) VALUES')
                    .values([[content]])
                    .toPromise();
                console.log('Запись успешно добавлена');
            } catch (err) {
                console.error('Ошибка при добавлении записи:', err);
            }
        }
    </script>
</body>

</html>